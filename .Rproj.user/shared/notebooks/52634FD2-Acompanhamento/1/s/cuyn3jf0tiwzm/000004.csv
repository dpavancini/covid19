"0",""
"0","# if (prod == TRUE) {api_create(p_lin, filename = ""covid-states-lin-plot"")}"
"0","# "
"0","### Log scale"
"0","x_seq <-data_frame(days_from_10th = seq(0,max(as.integer(casos_por_estado$days_from_10th),na.rm=T)+2,1)) %>% "
"0","  mutate("
"0","    y_log_1d = 10 * 2^(days_from_10th),"
"0","    y_log_2d = 10 * 2^(1/2 * days_from_10th), "
"0","    y_log_5d = 10 * 2^(1/5 * days_from_10th),                                                                                                 "
"0","    y_log_10d = 10 * 2^(1/10 * days_from_10th))      "
"0",""
"0","# x_seq %>% ggplot(aes(x=days_from_10th, y = y_log_1d)) +geom_line() + geom_line(aes(y=y_log_2d)) + scale_y_log10()"
"0",""
"0","  "
"0","  "
"0","p_log <- casos_por_estado %>% "
"0","  filter(totalCases > 10 & state != 'TOTAL' & date < Sys.Date()) %>% "
"0","  ggplot(aes(x=days_from_10th, y=totalCases)) + geom_line(aes(color=state,linetype=state,label=state),size=1) +"
"0","   geom_line(aes(x=days_from_10th,y=y_log_2d),data=x_seq, color = ""grey"") +"
"0","  geom_line(aes(x=days_from_10th,y=y_log_5d),data=x_seq, color = ""grey"") +"
"0","  geom_line(aes(x=days_from_10th,y=y_log_10d),data=x_seq, color = ""grey"") +"
"0","  scale_y_continuous(trans=""pseudo_log"") + labs(title = paste(""Evolução por estado (em log) - "",format(Sys.time(), ""%d/%m/%Y"")), caption = ""Em escala logaritmica. Apenas estados com mais de 10 casos.Os dados são atualizados diariamente.\n Fonte:https://raw.githubusercontent.com/wcota/covid19br/master/cases-brazil-states.csv"") + xlab(""Dias desde 10º caso"") + ylab(""Casos confirmados"")+ theme_minimal() + annotate(""text"", x = c(max(x_seq$days_from_10th),max(x_seq$days_from_10th),max(x_seq$days_from_10th)), y = c(max(x_seq$y_log_10d),max(x_seq$y_log_5d),max(x_seq$y_log_2d)), label = c(""10 dias para \n duplicar"",""5 dias para \n duplicar"",""2 dias para \n duplicar""), size=3, color = ""grey"",vjust=-1)"
"0",""
"0","p_log %>% ggplotly()"
