"0","# prepare for animation. methodology taken from http://lenkiefer.com/2018/08/11/state-employment-dataviz/"
"0","plot_data_tween_sc <- tween_elements(data_SC_state,"
"0","                 time = ""day"",  group=""ease"","
"0","                 ease=""ease"", nframes = nrow(data_SC_state))"
"0",""
"0","df_tween_appear_SC <- tween_appear(plot_data_tween_sc, time='day', nframes = nrow(data_SC_state)*3)"
"0","N <- max(df_tween_appear_SC$.frame)"
"0",""
"0","# Function for plots -----"
"0","make_plot_appear <- function(i, maxi=N){"
"0","  g.plot <- ggplot(data=df_tween_appear_SC, aes(x=date,y=confirmed,label=confirmed,3))+"
"0","    geom_line(alpha=0)+"
"0","    geom_line(data= .%>% filter(.frame==i, .age> -3.5), color=""#27408b"",size=1.05) +"
"0","    geom_text(data=  .%>% filter(.frame==i, .age> -3.5) %>% tail(1),  size=5, alpha=0.95,color=""black"",nudge_y=.0005)+"
"0","    geom_point(data=  .%>% filter(.frame==i, .age> -3.5) %>% tail(1), size=3, alpha=.82,color=""#27408b"")+"
"0","    geom_hline(data=  .%>% filter(.frame==i, .age> -3.5) %>% tail(1), aes(yintercept=confirmed),alpha=0.95, linetype=2,color=""#27408b"")+"
"0","    theme_minimal()+"
"0","    scale_y_continuous()+"
"0","    scale_color_manual(name="""",values=c(rgb(103,180,75, maxColorValue = 256),""#f37735"",""#27408b""))+"
"0","    theme(text = element_text(color = ""#27408b""))+"
"0","    labs(y=""Número de casos"", x=""Data"","
"0","         title=""Casos de COVID-19 confirmados em Santa Catarina"","
"0","         subtitle=paste(""Dados atualizados em: "",format(Sys.time(), ""%d/%m/%Y"")),"
"0","         caption=""Dados disponibilizados pelas Secretarias de Saúde Estaduais.\n(https://brasil.io/dataset/covid19/caso)"")"
"0","    plot_grid(g.plot,rel_heights=c(5,1),ncol=1)"
"0","}"
"0",""
"0","# write giff ----"
"0","gif_file <- save_gif({for (i in seq(1,N)){  "
"0","  g<- make_plot_appear(i)"
"0","  print(g)"
"0","  print(paste(i,""out of"",N))"
"0","}"
"0","  for (ii in 1:30){"
"0","    print(g)"
"0","    print(paste(ii,""out of"",30))"
"0","  }"
"0","}, gif_file= paste0(""./COVID19_SC.gif""),width = 1200, height = 1000, res = 144, delay=1/15)"
"1","[1]"
"1"," ""1 out of 86"""
"1","
"
"1","[1]"
"1"," ""2 out of 86"""
"1","
"
"1","[1]"
"1"," ""3 out of 86"""
"1","
"
"1","[1]"
"1"," ""4 out of 86"""
"1","
"
"1","[1]"
"1"," ""5 out of 86"""
"1","
"
"1","[1]"
"1"," ""6 out of 86"""
"1","
"
"1","[1]"
"1"," ""7 out of 86"""
"1","
"
"1","[1]"
"1"," ""8 out of 86"""
"1","
"
"1","[1]"
"1"," ""9 out of 86"""
"1","
"
"1","[1]"
"1"," ""10 out of 86"""
"1","
"
"1","[1]"
"1"," ""11 out of 86"""
"1","
"
"1","[1]"
"1"," ""12 out of 86"""
"1","
"
"1","[1]"
"1"," ""13 out of 86"""
"1","
"
"1","[1]"
"1"," ""14 out of 86"""
"1","
"
"1","[1]"
"1"," ""15 out of 86"""
"1","
"
"1","[1]"
"1"," ""16 out of 86"""
"1","
"
"1","[1]"
"1"," ""17 out of 86"""
"1","
"
"1","[1]"
"1"," ""18 out of 86"""
"1","
"
"1","[1]"
"1"," ""19 out of 86"""
"1","
"
"1","[1]"
"1"," ""20 out of 86"""
"1","
"
"1","[1]"
"1"," ""21 out of 86"""
"1","
"
"1","[1]"
"1"," ""22 out of 86"""
"1","
"
"1","[1]"
"1"," ""23 out of 86"""
"1","
"
"1","[1]"
"1"," ""24 out of 86"""
"1","
"
"1","[1]"
"1"," ""25 out of 86"""
"1","
"
"1","[1]"
"1"," ""26 out of 86"""
"1","
"
"1","[1]"
"1"," ""27 out of 86"""
"1","
"
"1","[1]"
"1"," ""28 out of 86"""
"1","
"
"1","[1]"
"1"," ""29 out of 86"""
"1","
"
"1","[1]"
"1"," ""30 out of 86"""
"1","
"
"1","[1]"
"1"," ""31 out of 86"""
"1","
"
"1","[1]"
"1"," ""32 out of 86"""
"1","
"
"1","[1]"
"1"," ""33 out of 86"""
"1","
"
"1","[1]"
"1"," ""34 out of 86"""
"1","
"
"1","[1]"
"1"," ""35 out of 86"""
"1","
"
"1","[1]"
"1"," ""36 out of 86"""
"1","
"
"1","[1]"
"1"," ""37 out of 86"""
"1","
"
"1","[1]"
"1"," ""38 out of 86"""
"1","
"
"1","[1]"
"1"," ""39 out of 86"""
"1","
"
"1","[1]"
"1"," ""40 out of 86"""
"1","
"
"1","[1]"
"1"," ""41 out of 86"""
"1","
"
"1","[1]"
"1"," ""42 out of 86"""
"1","
"
"1","[1]"
"1"," ""43 out of 86"""
"1","
"
"1","[1]"
"1"," ""44 out of 86"""
"1","
"
"1","[1]"
"1"," ""45 out of 86"""
"1","
"
"1","[1]"
"1"," ""46 out of 86"""
"1","
"
"1","[1]"
"1"," ""47 out of 86"""
"1","
"
"1","[1]"
"1"," ""48 out of 86"""
"1","
"
"1","[1]"
"1"," ""49 out of 86"""
"1","
"
"1","[1]"
"1"," ""50 out of 86"""
"1","
"
"1","[1]"
"1"," ""51 out of 86"""
"1","
"
"1","[1]"
"1"," ""52 out of 86"""
"1","
"
"1","[1]"
"1"," ""53 out of 86"""
"1","
"
"1","[1]"
"1"," ""54 out of 86"""
"1","
"
"1","[1]"
"1"," ""55 out of 86"""
"1","
"
"1","[1]"
"1"," ""56 out of 86"""
"1","
"
"1","[1]"
"1"," ""57 out of 86"""
"1","
"
"1","[1]"
"1"," ""58 out of 86"""
"1","
"
"1","[1]"
"1"," ""59 out of 86"""
"1","
"
"1","[1]"
"1"," ""60 out of 86"""
"1","
"
"1","[1]"
"1"," ""61 out of 86"""
"1","
"
"1","[1]"
"1"," ""62 out of 86"""
"1","
"
"1","[1]"
"1"," ""63 out of 86"""
"1","
"
"1","[1]"
"1"," ""64 out of 86"""
"1","
"
"1","[1]"
"1"," ""65 out of 86"""
"1","
"
"1","[1]"
"1"," ""66 out of 86"""
"1","
"
"1","[1]"
"1"," ""67 out of 86"""
"1","
"
"1","[1]"
"1"," ""68 out of 86"""
"1","
"
"1","[1]"
"1"," ""69 out of 86"""
"1","
"
"1","[1]"
"1"," ""70 out of 86"""
"1","
"
"1","[1]"
"1"," ""71 out of 86"""
"1","
"
"1","[1]"
"1"," ""72 out of 86"""
"1","
"
"1","[1]"
"1"," ""73 out of 86"""
"1","
"
"1","[1]"
"1"," ""74 out of 86"""
"1","
"
"1","[1]"
"1"," ""75 out of 86"""
"1","
"
"1","[1]"
"1"," ""76 out of 86"""
"1","
"
"1","[1]"
"1"," ""77 out of 86"""
"1","
"
"1","[1]"
"1"," ""78 out of 86"""
"1","
"
"1","[1]"
"1"," ""79 out of 86"""
"1","
"
"1","[1]"
"1"," ""80 out of 86"""
"1","
"
"1","[1]"
"1"," ""81 out of 86"""
"1","
"
"1","[1]"
"1"," ""82 out of 86"""
"1","
"
"1","[1]"
"1"," ""83 out of 86"""
"1","
"
"1","[1]"
"1"," ""84 out of 86"""
"1","
"
"1","[1]"
"1"," ""85 out of 86"""
"1","
"
"1","[1]"
"1"," ""86 out of 86"""
"1","
"
"1","[1]"
"1"," ""1 out of 30"""
"1","
"
"1","[1]"
"1"," ""2 out of 30"""
"1","
"
"1","[1]"
"1"," ""3 out of 30"""
"1","
"
"1","[1]"
"1"," ""4 out of 30"""
"1","
"
"1","[1]"
"1"," ""5 out of 30"""
"1","
"
"1","[1]"
"1"," ""6 out of 30"""
"1","
"
"1","[1]"
"1"," ""7 out of 30"""
"1","
"
"1","[1]"
"1"," ""8 out of 30"""
"1","
"
"1","[1]"
"1"," ""9 out of 30"""
"1","
"
"1","[1]"
"1"," ""10 out of 30"""
"1","
"
"1","[1]"
"1"," ""11 out of 30"""
"1","
"
"1","[1]"
"1"," ""12 out of 30"""
"1","
"
"1","[1]"
"1"," ""13 out of 30"""
"1","
"
"1","[1]"
"1"," ""14 out of 30"""
"1","
"
"1","[1]"
"1"," ""15 out of 30"""
"1","
"
"1","[1]"
"1"," ""16 out of 30"""
"1","
"
"1","[1]"
"1"," ""17 out of 30"""
"1","
"
"1","[1]"
"1"," ""18 out of 30"""
"1","
"
"1","[1]"
"1"," ""19 out of 30"""
"1","
"
"1","[1]"
"1"," ""20 out of 30"""
"1","
"
"1","[1]"
"1"," ""21 out of 30"""
"1","
"
"1","[1]"
"1"," ""22 out of 30"""
"1","
"
"1","[1]"
"1"," ""23 out of 30"""
"1","
"
"1","[1]"
"1"," ""24 out of 30"""
"1","
"
"1","[1]"
"1"," ""25 out of 30"""
"1","
"
"1","[1]"
"1"," ""26 out of 30"""
"1","
"
"1","[1]"
"1"," ""27 out of 30"""
"1","
"
"1","[1]"
"1"," ""28 out of 30"""
"1","
"
"1","[1]"
"1"," ""29 out of 30"""
"1","
"
"1","[1]"
"1"," ""30 out of 30"""
"1","
"
"1","Frame 1 (0%)"
"1","Frame 2 (1%)"
"1","Frame 3 (2%)"
"1","Frame 4 (3%)"
"1","Frame 5 (4%)"
"1","Frame 6 (5%)"
"1","Frame 7 (6%)"
"1","Frame 8 (6%)"
"1","Frame 9 (7%)"
"1","Frame 10 (8%)"
"1","Frame 11 (9%)"
"1","Frame 12 (10%)"
"1","Frame 13 (11%)"
"1","Frame 14 (12%)"
"1","Frame 15 (12%)"
"1","Frame 16 (13%)"
"1","Frame 17 (14%)"
"1","Frame 18 (15%)"
"1","Frame 19 (16%)"
"1","Frame 20 (17%)"
"1","Frame 21 (18%)"
"1","Frame 22 (18%)"
"1","Frame 23 (19%)"
"1","Frame 24 (20%)"
"1","Frame 25 (21%)"
"1","Frame 26 (22%)"
"1","Frame 27 (23%)"
"1","Frame 28 (24%)"
"1","Frame 29 (25%)"
"1","Frame 30 (25%)"
"1","Frame 31 (26%)"
"1","Frame 32 (27%)"
"1","Frame 33 (28%)"
"1","Frame 34 (29%)"
"1","Frame 35 (30%)"
"1","Frame 36 (31%)"
"1","Frame 37 (31%)"
"1","Frame 38 (32%)"
"1","Frame 39 (33%)"
"1","Frame 40 (34%)"
"1","Frame 41 (35%)"
"1","Frame 42 (36%)"
"1","Frame 43 (37%)"
"1","Frame 44 (37%)"
"1","Frame 45 (38%)"
"1","Frame 46 (39%)"
"1","Frame 47 (40%)"
"1","Frame 48 (41%)"
"1","Frame 49 (42%)"
"1","Frame 50 (43%)"
"1","Frame 51 (43%)"
"1","Frame 52 (44%)"
"1","Frame 53 (45%)"
"1","Frame 54 (46%)"
"1","Frame 55 (47%)"
"1","Frame 56 (48%)"
"1","Frame 57 (49%)"
"1","Frame 58 (50%)"
"1","Frame 59 (50%)"
"1","Frame 60 (51%)"
"1","Frame 61 (52%)"
"1","Frame 62 (53%)"
"1","Frame 63 (54%)"
"1","Frame 64 (55%)"
"1","Frame 65 (56%)"
"1","Frame 66 (56%)"
"1","Frame 67 (57%)"
"1","Frame 68 (58%)"
"1","Frame 69 (59%)"
"1","Frame 70 (60%)"
"1","Frame 71 (61%)"
"1","Frame 72 (62%)"
"1","Frame 73 (62%)"
"1","Frame 74 (63%)"
"1","Frame 75 (64%)"
"1","Frame 76 (65%)"
"1","Frame 77 (66%)"
"1","Frame 78 (67%)"
"1","Frame 79 (68%)"
"1","Frame 80 (68%)"
"1","Frame 81 (69%)"
"1","Frame 82 (70%)"
"1","Frame 83 (71%)"
"1","Frame 84 (72%)"
"1","Frame 85 (73%)"
"1","Frame 86 (74%)"
"1","Frame 87 (75%)"
"1","Frame 88 (75%)"
"1","Frame 89 (76%)"
"1","Frame 90 (77%)"
"1","Frame 91 (78%)"
"1","Frame 92 (79%)"
"1","Frame 93 (80%)"
"1","Frame 94 (81%)"
"1","Frame 95 (81%)"
"1","Frame 96 (82%)"
"1","Frame 97 (83%)"
"1","Frame 98 (84%)"
"1","Frame 99 (85%)"
"1","Frame 100 (86%)"
"1","Frame 101 (87%)"
"1","Frame 102 (87%)"
"1","Frame 103 (88%)"
"1","Frame 104 (89%)"
"1","Frame 105 (90%)"
"1","Frame 106 (91%)"
"1","Frame 107 (92%)"
"1","Frame 108 (93%)"
"1","Frame 109 (93%)"
"1","Frame 110 (94%)"
"1","Frame 111 (95%)"
"1","Frame 112 (96%)"
"1","Frame 113 (97%)"
"1","Frame 114 (98%)"
"1","Frame 115 (99%)"
"1","Frame 116 (100%)"
"1","
Finalizing encoding..."
"1"," done!
"
"0","# utils::browseURL(gif_file)"
